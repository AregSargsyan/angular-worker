(()=>{"use strict";class k{constructor(e){this.id=(e+1).toString(),this.int=Math.floor(100*Math.random()),this.float=Math.floor(100*Math.random())+"."+z(18),this.color=S(),this.child={id:(e+1).toString(),color:S()}}}const S=()=>{const n=["Chocolate","Aqua","yellow"];return n[Math.floor(Math.random()*n.length)]},z=n=>{let e="";for(let t=0;t<n;t++)e+=Math.floor(10*Math.random());return e};function c(n){return"function"==typeof n}const y=function C(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function _(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class u{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(c(r))try{r()}catch(s){e=s instanceof y?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A(s)}catch(o){e=e??[],o instanceof y?e=[...e,...o.errors]:e.push(o)}}if(e)throw new y(e)}}add(e){var t;if(e&&e!==this)if(this.closed)A(e);else{if(e instanceof u){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_(t,e)}remove(e){const{_finalizers:t}=this;t&&_(t,e),e instanceof u&&e._removeParent(this)}}function E(n){return n instanceof u||n&&"closed"in n&&c(n.remove)&&c(n.add)&&c(n.unsubscribe)}function A(n){c(n)?n():n.unsubscribe()}u.EMPTY=(()=>{const n=new u;return n.closed=!0,n})();class U extends u{constructor(e,t){super()}schedule(e,t=0){return this}}const d={setInterval(n,e,...t){const{delegate:r}=d;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=d;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},x={now:()=>(x.delegate||Date).now(),delegate:void 0};class h{constructor(e,t=h.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}h.now=x.now;const T=new class H extends h{constructor(e,t=h.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class F extends U{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return d.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&d.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),Y=T,l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},f={setTimeout(n,e,...t){const{delegate:r}=f;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=f;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function I(){}const q=m("C",void 0,void 0);function m(n,e,t){return{kind:n,value:e,error:t}}let a=null;class P extends u{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,E(e)&&e.add(this)):this.destination=N}static create(e,t,r){return new v(e,t,r)}next(e){this.isStopped?w(function V(n){return m("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?w(function L(n){return m("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?w(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const G=Function.prototype.bind;function g(n,e){return G.call(n,e)}class J{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){p(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){p(r)}else p(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){p(t)}}}class v extends P{constructor(e,t,r){let i;if(super(),c(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&l.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&g(e.next,s),error:e.error&&g(e.error,s),complete:e.complete&&g(e.complete,s)}):i=e}this.destination=new J(i)}}function p(n){l.useDeprecatedSynchronousErrorHandling?function B(n){l.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=n)}(n):function $(n){f.setTimeout(()=>{const{onUnhandledError:e}=l;if(!e)throw n;e(n)})}(n)}function w(n,e){const{onStoppedNotification:t}=l;t&&f.setTimeout(()=>t(n,e))}const N={closed:!0,next:I,error:function K(n){throw n},complete:I},O="function"==typeof Symbol&&Symbol.observable||"@@observable";function Q(n){return n}let W=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Z(n){return n&&n instanceof P||function X(n){return n&&c(n.next)&&c(n.error)&&c(n.complete)}(n)&&E(n)}(t)?t:new v(t,r,i);return function j(n){if(l.useDeprecatedSynchronousErrorHandling){const e=!a;if(e&&(a={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=a;if(a=null,t)throw r}}else n()}(()=>{const{operator:o,source:b}=this;s.add(o?o.call(s,b):b?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=D(r))((i,s)=>{const o=new v({next:b=>{try{t(b)}catch(se){s(se),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[O](){return this}pipe(...t){return function M(n){return 0===n.length?Q:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=D(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function D(n){var e;return null!==(e=n??l.Promise)&&void 0!==e?e:Promise}addEventListener("message",({data:n})=>{const{action:e,payload:t}=n;if("START"===e){const r=function re(n=0,e=T){return n<0&&(n=0),function ne(n=0,e,t=Y){let r=-1;return null!=e&&(function ee(n){return n&&c(n.schedule)}(e)?t=e:r=e),new W(i=>{let s=function te(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,n,e)}(t.timer).subscribe(()=>{const i=(n=>Array.from({length:n}).map((e,t)=>new k(t)))(t.arraySize);postMessage(i)});addEventListener("message",({data:i})=>{"STOP"===i.action&&r.unsubscribe()})}})})();